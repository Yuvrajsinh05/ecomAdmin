"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/createproduct/route";
exports.ids = ["app/api/createproduct/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreateproduct%2Froute&page=%2Fapi%2Fcreateproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreateproduct%2Froute.js&appDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreateproduct%2Froute&page=%2Fapi%2Fcreateproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreateproduct%2Froute.js&appDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Yuvrajsinh_OneDrive_Desktop_code_pprojectEcom_ecomadmin_src_app_api_createproduct_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/createproduct/route.js */ \"(rsc)/./src/app/api/createproduct/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/createproduct/route\",\n        pathname: \"/api/createproduct\",\n        filename: \"route\",\n        bundlePath: \"app/api/createproduct/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Yuvrajsinh\\\\OneDrive\\\\Desktop\\\\code\\\\pprojectEcom\\\\ecomadmin\\\\src\\\\app\\\\api\\\\createproduct\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Yuvrajsinh_OneDrive_Desktop_code_pprojectEcom_ecomadmin_src_app_api_createproduct_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/createproduct/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjcmVhdGVwcm9kdWN0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjcmVhdGVwcm9kdWN0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY3JlYXRlcHJvZHVjdCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNZdXZyYWpzaW5oJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDY29kZSU1Q3Bwcm9qZWN0RWNvbSU1Q2Vjb21hZG1pbiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDWXV2cmFqc2luaCU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q2NvZGUlNUNwcHJvamVjdEVjb20lNUNlY29tYWRtaW4maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDK0Q7QUFDNUk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tYWRtaW4vP2MyMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcWXV2cmFqc2luaFxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXGNvZGVcXFxccHByb2plY3RFY29tXFxcXGVjb21hZG1pblxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjcmVhdGVwcm9kdWN0XFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jcmVhdGVwcm9kdWN0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY3JlYXRlcHJvZHVjdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY3JlYXRlcHJvZHVjdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXFl1dnJhanNpbmhcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxjb2RlXFxcXHBwcm9qZWN0RWNvbVxcXFxlY29tYWRtaW5cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY3JlYXRlcHJvZHVjdFxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jcmVhdGVwcm9kdWN0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreateproduct%2Froute&page=%2Fapi%2Fcreateproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreateproduct%2Froute.js&appDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/createproduct/operations.js":
/*!*************************************************!*\
  !*** ./src/app/api/createproduct/operations.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchDataObjectsOfTypeRangBrand: () => (/* binding */ fetchDataObjectsOfTypeRangBrand),\n/* harmony export */   generateRandomProductFashion: () => (/* binding */ generateRandomProductFashion)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n/* harmony import */ var pexels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pexels */ \"(rsc)/./node_modules/pexels/dist/main.module.js\");\n\n\nfunction getRandomItemFromArray(array) {\n    console.log(\"array\", array);\n    const takeItem = array[Math.floor(Math.random() * array.length)];\n    return takeItem;\n}\nasync function chatWithOpenAiModal(promt) {\n    console.log(\"promt\", promt);\n    // return;\n    const ChatWithAi = new openai__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        apiKey: process.env.OPENAI\n    });\n    const completion = await ChatWithAi.chat.completions.create({\n        messages: [\n            {\n                role: \"system\",\n                content: promt\n            }\n        ],\n        model: \"gpt-3.5-turbo\"\n    });\n    return await completion.choices[0].message.content;\n}\nconst fetchDataObjectsOfTypeRangBrand = (type, subtype, foundCategory)=>{\n    if (subtype) {\n        const subCategory = foundCategory.SubCategories.find((sub)=>sub.type === type);\n        if (subCategory) {\n            const subTypeData = subCategory.SubType.find((sub)=>sub.Name === subtype);\n            if (subTypeData) {\n                return subTypeData;\n            } else {\n                return \"Subtype not found\";\n            }\n        } else {\n            return \"Type not found\";\n        }\n    } else {\n        return foundCategory.SubCategories.find((sub)=>sub.type === type);\n    }\n};\nasync function GenrateImageForProduct(word) {\n    try {\n        const client = new pexels__WEBPACK_IMPORTED_MODULE_0__.createClient(process.env.PEXELKEY);\n        const query = word;\n        // Search for photos based on the query\n        const generateImage = await client.photos.search({\n            query,\n            per_page: 1\n        });\n        // If no photos are found, throw an error with a specific message\n        if (!generateImage || !generateImage?.photos || generateImage.photos.length === 0) {\n            throw new Error(\"No images found for the given query\");\n        }\n        // Extract the URL of the first photo\n        const WebPageImage = generateImage.photos[0]?.src?.original;\n        return WebPageImage;\n    } catch (err) {\n        // Log the error for debugging purposes\n        console.error(\"Error in fetching image:\", err.message);\n        // Throw an error with a specific message\n        throw {\n            status: 400,\n            message: \"Failed While Generating Image\"\n        } // Generic error message\n        ;\n    }\n}\nasync function generateRandomProductFashion(reference) {\n    console.log(\"referce\", reference);\n    console.log(\"referce\", reference.SubCategories);\n    try {\n        // Get random category\n        const category = reference.Categories;\n        console.log(\"debuger1111111\");\n        // Get random subcategory\n        const subcategoryObj = getRandomItemFromArray(reference.SubCategories);\n        const subcategory = subcategoryObj.type;\n        console.log(\"debuger222222\");\n        // Get random type\n        const typeObj = getRandomItemFromArray(subcategoryObj.SubType);\n        console.log(\"debuger3333333\");\n        const type = typeObj.Name;\n        // Get random brand\n        const brand = getRandomItemFromArray(typeObj.Brands);\n        console.log(\"debuger44444\");\n        // Generate random price\n        const price = Math.floor(Math.random() * 501); // Generates a random number between 0 and 500\n        const GenerateSubType = await chatWithOpenAiModal(`Generate subtype for ${category} ${subcategory} ${type} in string only word`);\n        const GenerateNameProduct = await chatWithOpenAiModal(`Generate Product name for ${category} ${subcategory} ${type} ${GenerateSubType} ${brand} ${price} in string only word`);\n        const GenerateNameProductDescription = await chatWithOpenAiModal(`Generate Product description for ${category} ${subcategory} ${type} ${GenerateSubType} ${GenerateNameProduct} ${brand} ${price} in string  words only give description no other text strict Output`);\n        const GenerateRandomWordForImage = await chatWithOpenAiModal(`Generate Product String Word TO Fetch A Image  Based on \"${subcategory}\" \"${type}\" \"${GenerateNameProduct}\" \"${brand}\"  only a Word No Other Text Strict Output Not Defficult Give Simple Word that is possible to get image with it very very simple we can find photos of that word`);\n        console.log(\"images generattion stars with Word\", GenerateRandomWordForImage);\n        const GenerateImage = await GenrateImageForProduct(GenerateRandomWordForImage.trim().replace(/\"/g, \"\"));\n        console.log(\"images generattion ends...\");\n        // Construct and return the product schema\n        return {\n            category: category,\n            subcategory: subcategory,\n            SubType: type,\n            type: type,\n            brand: brand,\n            price: price,\n            name: GenerateNameProduct,\n            description: GenerateNameProductDescription,\n            image: GenerateImage\n        };\n    } catch (err) {\n        console.log(\"Err creating fashion\", err);\n        throw err;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jcmVhdGVwcm9kdWN0L29wZXJhdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE0QjtBQUNVO0FBRXRDLFNBQVNFLHVCQUF1QkMsS0FBSztJQUNuQ0MsUUFBUUMsR0FBRyxDQUFDLFNBQVNGO0lBQ3JCLE1BQU1HLFdBQVdILEtBQUssQ0FBQ0ksS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUtOLE1BQU1PLE1BQU0sRUFBRTtJQUNoRSxPQUFPSjtBQUNUO0FBRUEsZUFBZUssb0JBQW9CQyxLQUFLO0lBQ3RDUixRQUFRQyxHQUFHLENBQUMsU0FBU087SUFDckIsVUFBVTtJQUNWLE1BQU1DLGFBQWEsSUFBSWIsOENBQU1BLENBQUM7UUFBRWMsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxNQUFNO0lBQUM7SUFDM0QsTUFBTUMsYUFBYSxNQUFNTCxXQUFXTSxJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO1FBQzFEQyxVQUFVO1lBQUM7Z0JBQUVDLE1BQU07Z0JBQVVDLFNBQVNaO1lBQU07U0FBRTtRQUM5Q2EsT0FBTztJQUNUO0lBQ0EsT0FBTyxNQUFNUCxXQUFXUSxPQUFPLENBQUMsRUFBRSxDQUFDQyxPQUFPLENBQUNILE9BQU87QUFDcEQ7QUFFTyxNQUFNSSxrQ0FBa0MsQ0FBQ0MsTUFBTUMsU0FBU0M7SUFDN0QsSUFBSUQsU0FBUztRQUNULE1BQU1FLGNBQWNELGNBQWNFLGFBQWEsQ0FBQ0MsSUFBSSxDQUFDQyxDQUFBQSxNQUFPQSxJQUFJTixJQUFJLEtBQUtBO1FBQ3pFLElBQUlHLGFBQWE7WUFDYixNQUFNSSxjQUFjSixZQUFZSyxPQUFPLENBQUNILElBQUksQ0FBQ0MsQ0FBQUEsTUFBT0EsSUFBSUcsSUFBSSxLQUFLUjtZQUNqRSxJQUFJTSxhQUFhO2dCQUNiLE9BQU9BO1lBQ1gsT0FBTztnQkFDSCxPQUFPO1lBQ1g7UUFDSixPQUFPO1lBQ0gsT0FBTztRQUNYO0lBQ0osT0FBTztRQUNILE9BQU9M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QUdDLE9BQU8sQ0FBQyxNQUFNO1FBQ25HbkUsUUFBUUMsR0FBRyxDQUFDO1FBQ1osMENBQTBDO1FBQzFDLE9BQU87WUFDTG9ELFVBQVVBO1lBQ1ZHLGFBQWFBO1lBQ2J2QixTQUFTUjtZQUNUQSxNQUFNQTtZQUNOaUMsT0FBT0E7WUFDUEUsT0FBT0E7WUFDUFEsTUFBTU47WUFDTk8sYUFBYU47WUFDYk8sT0FBT0w7UUFDVDtJQUNGLEVBQUUsT0FBT2pCLEtBQUs7UUFDWmhELFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0IrQztRQUNwQyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tYWRtaW4vLi9zcmMvYXBwL2FwaS9jcmVhdGVwcm9kdWN0L29wZXJhdGlvbnMuanM/ZmQ3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3BlbkFJIGZyb20gXCJvcGVuYWlcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcInBleGVsc1wiO1xyXG5cclxuZnVuY3Rpb24gZ2V0UmFuZG9tSXRlbUZyb21BcnJheShhcnJheSkge1xyXG4gIGNvbnNvbGUubG9nKFwiYXJyYXlcIiwgYXJyYXkpXHJcbiAgY29uc3QgdGFrZUl0ZW0gPSBhcnJheVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpXTtcclxuICByZXR1cm4gdGFrZUl0ZW07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNoYXRXaXRoT3BlbkFpTW9kYWwocHJvbXQpIHtcclxuICBjb25zb2xlLmxvZyhcInByb210XCIsIHByb210KVxyXG4gIC8vIHJldHVybjtcclxuICBjb25zdCBDaGF0V2l0aEFpID0gbmV3IE9wZW5BSSh7IGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJIH0pXHJcbiAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IENoYXRXaXRoQWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgbWVzc2FnZXM6IFt7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IHByb210IH1dLFxyXG4gICAgbW9kZWw6IFwiZ3B0LTMuNS10dXJib1wiLFxyXG4gIH0pO1xyXG4gIHJldHVybiBhd2FpdCBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hEYXRhT2JqZWN0c09mVHlwZVJhbmdCcmFuZCA9ICh0eXBlLCBzdWJ0eXBlLCBmb3VuZENhdGVnb3J5KSA9PiB7XHJcbiAgaWYgKHN1YnR5cGUpIHtcclxuICAgICAgY29uc3Qgc3ViQ2F0ZWdvcnkgPSBmb3VuZENhdGVnb3J5LlN1YkNhdGVnb3JpZXMuZmluZChzdWIgPT4gc3ViLnR5cGUgPT09IHR5cGUpO1xyXG4gICAgICBpZiAoc3ViQ2F0ZWdvcnkpIHtcclxuICAgICAgICAgIGNvbnN0IHN1YlR5cGVEYXRhID0gc3ViQ2F0ZWdvcnkuU3ViVHlwZS5maW5kKHN1YiA9PiBzdWIuTmFtZSA9PT0gc3VidHlwZSk7XHJcbiAgICAgICAgICBpZiAoc3ViVHlwZURhdGEpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc3ViVHlwZURhdGE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJldHVybiBcIlN1YnR5cGUgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJUeXBlIG5vdCBmb3VuZFwiO1xyXG4gICAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZvdW5kQ2F0ZWdvcnkuU3ViQ2F0ZWdvcmllcy5maW5kKHN1YiA9PiBzdWIudHlwZSA9PT0gdHlwZSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2VucmF0ZUltYWdlRm9yUHJvZHVjdCh3b3JkKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBjcmVhdGVDbGllbnQocHJvY2Vzcy5lbnYuUEVYRUxLRVkpO1xyXG4gICAgY29uc3QgcXVlcnkgPSB3b3JkO1xyXG4gICAgLy8gU2VhcmNoIGZvciBwaG90b3MgYmFzZWQgb24gdGhlIHF1ZXJ5XHJcbiAgICBjb25zdCBnZW5lcmF0ZUltYWdlID0gYXdhaXQgY2xpZW50LnBob3Rvcy5zZWFyY2goeyBxdWVyeSwgcGVyX3BhZ2U6IDEgfSk7XHJcbiAgICAvLyBJZiBubyBwaG90b3MgYXJlIGZvdW5kLCB0aHJvdyBhbiBlcnJvciB3aXRoIGEgc3BlY2lmaWMgbWVzc2FnZVxyXG4gICAgaWYgKCFnZW5lcmF0ZUltYWdlIHx8ICFnZW5lcmF0ZUltYWdlPy5waG90b3MgfHwgZ2VuZXJhdGVJbWFnZS5waG90b3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gaW1hZ2VzIGZvdW5kIGZvciB0aGUgZ2l2ZW4gcXVlcnknKTtcclxuICAgIH1cclxuICAgIC8vIEV4dHJhY3QgdGhlIFVSTCBvZiB0aGUgZmlyc3QgcGhvdG9cclxuICAgIGNvbnN0IFdlYlBhZ2VJbWFnZSA9IGdlbmVyYXRlSW1hZ2UucGhvdG9zWzBdPy5zcmM/Lm9yaWdpbmFsO1xyXG4gICAgcmV0dXJuIFdlYlBhZ2VJbWFnZTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIC8vIExvZyB0aGUgZXJyb3IgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlc1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZmV0Y2hpbmcgaW1hZ2U6JywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgLy8gVGhyb3cgYW4gZXJyb3Igd2l0aCBhIHNwZWNpZmljIG1lc3NhZ2VcclxuICAgIHRocm93IHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IFwiRmFpbGVkIFdoaWxlIEdlbmVyYXRpbmcgSW1hZ2VcIiB9IC8vIEdlbmVyaWMgZXJyb3IgbWVzc2FnZVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tUHJvZHVjdEZhc2hpb24ocmVmZXJlbmNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJyZWZlcmNlXCIgLHJlZmVyZW5jZSlcclxuICBjb25zb2xlLmxvZyhcInJlZmVyY2VcIiAscmVmZXJlbmNlLlN1YkNhdGVnb3JpZXMpXHJcbiAgdHJ5IHtcclxuICAgIC8vIEdldCByYW5kb20gY2F0ZWdvcnlcclxuICAgIGNvbnN0IGNhdGVnb3J5ID0gcmVmZXJlbmNlLkNhdGVnb3JpZXM7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJkZWJ1Z2VyMTExMTExMVwiKVxyXG4gICAgLy8gR2V0IHJhbmRvbSBzdWJjYXRlZ29yeVxyXG4gICAgY29uc3Qgc3ViY2F0ZWdvcnlPYmogPSBnZXRSYW5kb21JdGVtRnJvbUFycmF5KHJlZmVyZW5jZS5TdWJDYXRlZ29yaWVzKTtcclxuICAgIGNvbnN0IHN1YmNhdGVnb3J5ID0gc3ViY2F0ZWdvcnlPYmoudHlwZTtcclxuICAgIGNvbnNvbGUubG9nKFwiZGVidWdlcjIyMjIyMlwiKVxyXG4gICAgLy8gR2V0IHJhbmRvbSB0eXBlXHJcbiAgICBjb25zdCB0eXBlT2JqID0gZ2V0UmFuZG9tSXRlbUZyb21BcnJheShzdWJjYXRlZ29yeU9iai5TdWJUeXBlKTtcclxuICAgIGNvbnNvbGUubG9nKFwiZGVidWdlcjMzMzMzMzNcIilcclxuICAgIGNvbnN0IHR5cGUgPSB0eXBlT2JqLk5hbWU7XHJcblxyXG4gICAgLy8gR2V0IHJhbmRvbSBicmFuZFxyXG4gICAgY29uc3QgYnJhbmQgPSBnZXRSYW5kb21JdGVtRnJvbUFycmF5KHR5cGVPYmouQnJhbmRzKTtcclxuICAgIGNvbnNvbGUubG9nKFwiZGVidWdlcjQ0NDQ0XCIpXHJcbiAgICAvLyBHZW5lcmF0ZSByYW5kb20gcHJpY2VcclxuICAgIGNvbnN0IHByaWNlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAxKTsgLy8gR2VuZXJhdGVzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIDAgYW5kIDUwMFxyXG5cclxuICAgIGNvbnN0IEdlbmVyYXRlU3ViVHlwZSA9IGF3YWl0IGNoYXRXaXRoT3BlbkFpTW9kYWwoYEdlbmVyYXRlIHN1YnR5cGUgZm9yICR7Y2F0ZWdvcnl9ICR7c3ViY2F0ZWdvcnl9ICR7dHlwZX0gaW4gc3RyaW5nIG9ubHkgd29yZGApXHJcbiAgICBjb25zdCBHZW5lcmF0ZU5hbWVQcm9kdWN0ID0gYXdhaXQgY2hhdFdpdGhPcGVuQWlNb2RhbChgR2VuZXJhdGUgUHJvZHVjdCBuYW1lIGZvciAke2NhdGVnb3J5fSAke3N1YmNhdGVnb3J5fSAke3R5cGV9ICR7R2VuZXJhdGVTdWJUeXBlfSAke2JyYW5kfSAke3ByaWNlfSBpbiBzdHJpbmcgb25seSB3b3JkYClcclxuICAgIGNvbnN0IEdlbmVyYXRlTmFtZVByb2R1Y3REZXNjcmlwdGlvbiA9IGF3YWl0IGNoYXRXaXRoT3BlbkFpTW9kYWwoYEdlbmVyYXRlIFByb2R1Y3QgZGVzY3JpcHRpb24gZm9yICR7Y2F0ZWdvcnl9ICR7c3ViY2F0ZWdvcnl9ICR7dHlwZX0gJHtHZW5lcmF0ZVN1YlR5cGV9ICR7R2VuZXJhdGVOYW1lUHJvZHVjdH0gJHticmFuZH0gJHtwcmljZX0gaW4gc3RyaW5nICB3b3JkcyBvbmx5IGdpdmUgZGVzY3JpcHRpb24gbm8gb3RoZXIgdGV4dCBzdHJpY3QgT3V0cHV0YClcclxuICAgIGNvbnN0IEdlbmVyYXRlUmFuZG9tV29yZEZvckltYWdlID0gYXdhaXQgY2hhdFdpdGhPcGVuQWlNb2RhbChgR2VuZXJhdGUgUHJvZHVjdCBTdHJpbmcgV29yZCBUTyBGZXRjaCBBIEltYWdlICBCYXNlZCBvbiBcIiR7c3ViY2F0ZWdvcnl9XCIgXCIke3R5cGV9XCIgXCIke0dlbmVyYXRlTmFtZVByb2R1Y3R9XCIgXCIke2JyYW5kfVwiICBvbmx5IGEgV29yZCBObyBPdGhlciBUZXh0IFN0cmljdCBPdXRwdXQgTm90IERlZmZpY3VsdCBHaXZlIFNpbXBsZSBXb3JkIHRoYXQgaXMgcG9zc2libGUgdG8gZ2V0IGltYWdlIHdpdGggaXQgdmVyeSB2ZXJ5IHNpbXBsZSB3ZSBjYW4gZmluZCBwaG90b3Mgb2YgdGhhdCB3b3JkYClcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcImltYWdlcyBnZW5lcmF0dGlvbiBzdGFycyB3aXRoIFdvcmRcIiwgR2VuZXJhdGVSYW5kb21Xb3JkRm9ySW1hZ2UpXHJcbiAgICBjb25zdCBHZW5lcmF0ZUltYWdlID0gYXdhaXQgR2VucmF0ZUltYWdlRm9yUHJvZHVjdChHZW5lcmF0ZVJhbmRvbVdvcmRGb3JJbWFnZS50cmltKCkucmVwbGFjZSgvXCIvZywgJycpKVxyXG4gICAgY29uc29sZS5sb2coXCJpbWFnZXMgZ2VuZXJhdHRpb24gZW5kcy4uLlwiKVxyXG4gICAgLy8gQ29uc3RydWN0IGFuZCByZXR1cm4gdGhlIHByb2R1Y3Qgc2NoZW1hXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgIHN1YmNhdGVnb3J5OiBzdWJjYXRlZ29yeSxcclxuICAgICAgU3ViVHlwZTogdHlwZSxcclxuICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgYnJhbmQ6IGJyYW5kLFxyXG4gICAgICBwcmljZTogcHJpY2UsXHJcbiAgICAgIG5hbWU6IEdlbmVyYXRlTmFtZVByb2R1Y3QsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBHZW5lcmF0ZU5hbWVQcm9kdWN0RGVzY3JpcHRpb24sXHJcbiAgICAgIGltYWdlOiBHZW5lcmF0ZUltYWdlXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5sb2coXCJFcnIgY3JlYXRpbmcgZmFzaGlvblwiLCBlcnIpXHJcbiAgICB0aHJvdyBlcnI7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIk9wZW5BSSIsImNyZWF0ZUNsaWVudCIsImdldFJhbmRvbUl0ZW1Gcm9tQXJyYXkiLCJhcnJheSIsImNvbnNvbGUiLCJsb2ciLCJ0YWtlSXRlbSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsImNoYXRXaXRoT3BlbkFpTW9kYWwiLCJwcm9tdCIsIkNoYXRXaXRoQWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJIiwiY29tcGxldGlvbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJtb2RlbCIsImNob2ljZXMiLCJtZXNzYWdlIiwiZmV0Y2hEYXRhT2JqZWN0c09mVHlwZVJhbmdCcmFuZCIsInR5cGUiLCJzdWJ0eXBlIiwiZm91bmRDYXRlZ29yeSIsInN1YkNhdGVnb3J5IiwiU3ViQ2F0ZWdvcmllcyIsImZpbmQiLCJzdWIiLCJzdWJUeXBlRGF0YSIsIlN1YlR5cGUiLCJOYW1lIiwiR2VucmF0ZUltYWdlRm9yUHJvZHVjdCIsIndvcmQiLCJjbGllbnQiLCJQRVhFTEtFWSIsInF1ZXJ5IiwiZ2VuZXJhdGVJbWFnZSIsInBob3RvcyIsInNlYXJjaCIsInBlcl9wYWdlIiwiRXJyb3IiLCJXZWJQYWdlSW1hZ2UiLCJzcmMiLCJvcmlnaW5hbCIsImVyciIsImVycm9yIiwic3RhdHVzIiwiZ2VuZXJhdGVSYW5kb21Qcm9kdWN0RmFzaGlvbiIsInJlZmVyZW5jZSIsImNhdGVnb3J5IiwiQ2F0ZWdvcmllcyIsInN1YmNhdGVnb3J5T2JqIiwic3ViY2F0ZWdvcnkiLCJ0eXBlT2JqIiwiYnJhbmQiLCJCcmFuZHMiLCJwcmljZSIsIkdlbmVyYXRlU3ViVHlwZSIsIkdlbmVyYXRlTmFtZVByb2R1Y3QiLCJHZW5lcmF0ZU5hbWVQcm9kdWN0RGVzY3JpcHRpb24iLCJHZW5lcmF0ZVJhbmRvbVdvcmRGb3JJbWFnZSIsIkdlbmVyYXRlSW1hZ2UiLCJ0cmltIiwicmVwbGFjZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImltYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/createproduct/operations.js\n");

/***/ }),

/***/ "(rsc)/./src/app/api/createproduct/route.js":
/*!********************************************!*\
  !*** ./src/app/api/createproduct/route.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_features__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/features */ \"(rsc)/./src/utils/features.js\");\n/* harmony import */ var _operations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./operations */ \"(rsc)/./src/app/api/createproduct/operations.js\");\n\n\n\nconst GET = async (request)=>{\n    try {\n        await (0,_utils_features__WEBPACK_IMPORTED_MODULE_1__.connectDB)();\n        const foundCategory = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.collection(\"categories\").find({\n            Categories: \"Fashion\"\n        }).toArray();\n        console.log(\"foundCategory\", foundCategory);\n        const getProduct = await (0,_operations__WEBPACK_IMPORTED_MODULE_2__.generateRandomProductFashion)(foundCategory[0]);\n        // const requestBody = await request.text();\n        console.log(\"getProduct\", getProduct);\n        // const data = JSON.parse(requestBody);\n        const creationResponse = await createProduct(getProduct);\n        return creationResponse;\n    } catch (err) {\n        console.error(\"Error occurred:\", err);\n        return new Response(JSON.stringify({\n            err: \"Internal Server Error\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n};\nconst createProduct = async (bodyObj)=>{\n    console.log(\"duvgger1\", bodyObj);\n    // return;\n    try {\n        const { category, type, SubType, subcategory } = bodyObj;\n        console.log(\"req.bodycall\", bodyObj);\n        if (!category) {\n            return new Response(JSON.stringify({\n                message: \"Missing Category\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        const foundCategory = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.collection(\"categories\").find({\n            Categories: category\n        }).toArray();\n        console.log(\"duvgger2\");\n        if (!foundCategory[0]) {\n            return new Response(JSON.stringify({\n                message: \"Limited For Category Fashion , Electronics , Beauty.\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        console.log(\"duvgger3\", foundCategory[0]);\n        if (!foundCategory[0].SubCategories[0].SubType) {\n            const possibleTypes = foundCategory[0].SubCategories.map((subCate)=>subCate.type);\n            if (!possibleTypes.includes(type)) {\n                return new Response(JSON.stringify({\n                    message: `We are only selling this Category Type. ${possibleTypes.join(\", \")}`\n                }), {\n                    status: 400,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n        }\n        console.log(\"duvgger4\");\n        if (foundCategory[0].SubCategories[0].SubType) {\n            const subCateGoryExists = foundCategory[0].SubCategories.map((subcate)=>subcate.type);\n            if (!subCateGoryExists.includes(subcategory)) {\n                return new Response(JSON.stringify({\n                    message: `We are only selling this subcategory Products. ${subCateGoryExists.join(\", \")}`\n                }), {\n                    status: 400,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n            console.log(\"duvgger5\");\n            const CloneSubCate = foundCategory[0].SubCategories.find((subCategory)=>subCategory.type === subcategory);\n            const PossibleType = CloneSubCate.SubType.map((type)=>type.Name);\n            console.log(\"duvgger6\");\n            if (!PossibleType.includes(type)) {\n                return new Response(JSON.stringify({\n                    message: `We are only selling this Types Products. ${PossibleType.join(\", \")}`\n                }), {\n                    status: 400,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n        }\n        console.log(\"duvgger7\");\n        if (category == \"Fashion\") {\n            try {\n                const MatchTypeObj = (0,_operations__WEBPACK_IMPORTED_MODULE_2__.fetchDataObjectsOfTypeRangBrand)(subcategory, type, foundCategory[0]);\n                console.log(\"duvgger8\");\n                const addFashionProduct = await CreateFashionProduct(bodyObj, MatchTypeObj);\n                console.log(\"duvgger9\");\n                return new Response(JSON.stringify({\n                    data: addFashionProduct,\n                    message: \"Fashion Product Created\"\n                }), {\n                    status: 200,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            } catch (err) {\n                return new Response(JSON.stringify({\n                    message: \"Error occurred in /admin/createProduct\",\n                    err: err\n                }), {\n                    status: 500,\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n            }\n        }\n    } catch (err) {\n        console.error(err);\n        return new Response(JSON.stringify({\n            message: \"Error occurred in /admin/createProduct\",\n            err: err\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n};\nconst CreateFashionProduct = async (bodyData, matchType)=>{\n    try {\n        const { name, price, image, description, category, subcategory, type, SubType, brand } = bodyData;\n        if (!name || !price || !image || !description || !subcategory || !category || !type || !SubType || !brand) {\n            const missingFields = [];\n            if (!name) missingFields.push(\"name\");\n            if (!price) missingFields.push(\"price\");\n            if (!image) missingFields.push(\"image\");\n            if (!description) missingFields.push(\"description\");\n            if (!subcategory) missingFields.push(\"subcategory\");\n            if (!category) missingFields.push(\"category\");\n            if (!type) missingFields.push(\"type\");\n            if (!SubType) missingFields.push(\"SubType\");\n            if (!brand) missingFields.push(\"brand\");\n            throw new Response(JSON.stringify({\n                status: 400,\n                message: `The following fields are mandatory: ${missingFields.join(\", \")}.`\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        if (!matchType?.Brands.includes(brand)) {\n            throw new Response(JSON.stringify({\n                status: 400,\n                message: \"We Are Still Limited With Some Brands\",\n                PossibleBrands: matchType?.Brands\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        const priceRanges = matchType?.Range.map((range)=>range.split(\" - \").map(Number));\n        let priceRangeToUpdate = null;\n        for (const range of priceRanges){\n            const [min, max] = range;\n            if (price >= min && price <= max) {\n                priceRangeToUpdate = range.join(\" - \");\n                break;\n            }\n        }\n        if (!priceRangeToUpdate) {\n            throw new Response(JSON.stringify({\n                status: 400,\n                message: \"Price is not within any allowed range.\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        const filter = {\n            Category: category,\n            type: type\n        };\n        const update = {\n            $inc: {\n                [`Brands.${brand}`]: 1,\n                [`PriceRange.${priceRangeToUpdate}`]: 1\n            }\n        };\n        const newProduct = {\n            name: name,\n            price: price,\n            image: image,\n            description: description,\n            category: category,\n            subcategory: subcategory,\n            type: type,\n            SubType: SubType,\n            brand: brand\n        };\n        try {\n            const saved = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.collection(\"fashions\").insertOne(newProduct);\n            console.log(\"createFashion\", saved);\n            if (saved) {\n                await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.collection(\"filtercounts\").findOneAndUpdate(filter, update);\n                await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.collection(\"categories\").findOneAndUpdate({\n                    Categories: \"Fashion\"\n                }, {\n                    $inc: {\n                        count: 1\n                    }\n                });\n            }\n        } catch (error) {\n            console.error(\"Error:\", error);\n            throw new Response(JSON.stringify({\n                status: 500,\n                message: \"Error occurred while saving fashion product\",\n                error: error\n            }), {\n                status: 500,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        return {\n            status: 200,\n            message: \"Fashion Product Created\"\n        };\n    } catch (err) {\n        console.error(err);\n        return err instanceof Response ? err : new Response(JSON.stringify({\n            status: 500,\n            message: \"Error occurred while creating fashion product\",\n            err: err\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jcmVhdGVwcm9kdWN0L3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWdDO0FBQ2E7QUFDZ0Q7QUFFdEYsTUFBTUksTUFBTSxPQUFPQztJQUN0QixJQUFJO1FBQ0EsTUFBTUosMERBQVNBO1FBRWYsTUFBTUssZ0JBQWdCLE1BQU1OLDBEQUFtQixDQUFDUSxFQUFFLENBQUNDLFVBQVUsQ0FBQyxjQUFjQyxJQUFJLENBQUM7WUFBQ0MsWUFBVztRQUFTLEdBQUdDLE9BQU87UUFFaEhDLFFBQVFDLEdBQUcsQ0FBQyxpQkFBZ0JSO1FBQzVCLE1BQU1TLGFBQWEsTUFBTVoseUVBQTRCQSxDQUFDRyxhQUFhLENBQUMsRUFBRTtRQUN0RSw0Q0FBNEM7UUFDNUNPLFFBQVFDLEdBQUcsQ0FBQyxjQUFjQztRQUMxQix3Q0FBd0M7UUFDeEMsTUFBTUMsbUJBQW1CLE1BQU1DLGNBQWNGO1FBQzdDLE9BQU9DO0lBQ1gsRUFBRSxPQUFPRSxLQUFLO1FBQ1ZMLFFBQVFNLEtBQUssQ0FBQyxtQkFBbUJEO1FBQ2pDLE9BQU8sSUFBSUUsU0FBU0MsS0FBS0MsU0FBUyxDQUFDO1lBQUVKLEtBQUs7UUFBd0IsSUFBSTtZQUFFSyxRQUFRO1lBQUtDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQUU7SUFDekk7QUFDSixFQUFDO0FBRUQsTUFBTVAsZ0JBQWdCLE9BQU9RO0lBQ3pCWixRQUFRQyxHQUFHLENBQUMsWUFBWVc7SUFDeEIsVUFBVTtJQUNWLElBQUk7UUFDQSxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLFdBQVcsRUFBRSxHQUFHSjtRQUVqRFosUUFBUUMsR0FBRyxDQUFDLGdCQUFnQlc7UUFDNUIsSUFBSSxDQUFDQyxVQUFVO1lBQ1gsT0FBTyxJQUFJTixTQUFTQyxLQUFLQyxTQUFTLENBQUM7Z0JBQUVRLFNBQVM7WUFBbUIsSUFBSTtnQkFBRVAsUUFBUTtnQkFBS0MsU0FBUztvQkFBRSxnQkFBZ0I7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SUFFN0QsRUFBRSxPQUFPWixLQUFLO1FBQ1ZMLFFBQVFNLEtBQUssQ0FBQ0Q7UUFDZCxPQUFPQSxlQUFlRSxXQUFXRixNQUFNLElBQUlFLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQztZQUFFQyxRQUFRO1lBQUtPLFNBQVM7WUFBaURaLEtBQUtBO1FBQUksSUFBSTtZQUFFSyxRQUFRO1lBQUtDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQUU7SUFDNU47QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2Vjb21hZG1pbi8uL3NyYy9hcHAvYXBpL2NyZWF0ZXByb2R1Y3Qvcm91dGUuanM/ZDljNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB7IGNvbm5lY3REQiB9IGZyb20gXCJAL3V0aWxzL2ZlYXR1cmVzXCI7XHJcbmltcG9ydCB7IGZldGNoRGF0YU9iamVjdHNPZlR5cGVSYW5nQnJhbmQsIGdlbmVyYXRlUmFuZG9tUHJvZHVjdEZhc2hpb24gfSBmcm9tIFwiLi9vcGVyYXRpb25zXCI7XHJcblxyXG5leHBvcnQgY29uc3QgR0VUID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgY29ubmVjdERCKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvdW5kQ2F0ZWdvcnkgPSBhd2FpdCBtb25nb29zZS5jb25uZWN0aW9uLmRiLmNvbGxlY3Rpb24oJ2NhdGVnb3JpZXMnKS5maW5kKHtDYXRlZ29yaWVzOlwiRmFzaGlvblwifSkudG9BcnJheSgpXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZm91bmRDYXRlZ29yeVwiLGZvdW5kQ2F0ZWdvcnkpXHJcbiAgICAgICAgY29uc3QgZ2V0UHJvZHVjdCA9IGF3YWl0IGdlbmVyYXRlUmFuZG9tUHJvZHVjdEZhc2hpb24oZm91bmRDYXRlZ29yeVswXSlcclxuICAgICAgICAvLyBjb25zdCByZXF1ZXN0Qm9keSA9IGF3YWl0IHJlcXVlc3QudGV4dCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0UHJvZHVjdFwiLCBnZXRQcm9kdWN0KTtcclxuICAgICAgICAvLyBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXF1ZXN0Qm9keSk7XHJcbiAgICAgICAgY29uc3QgY3JlYXRpb25SZXNwb25zZSA9IGF3YWl0IGNyZWF0ZVByb2R1Y3QoZ2V0UHJvZHVjdCk7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0aW9uUmVzcG9uc2U7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igb2NjdXJyZWQ6XCIsIGVycik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycjogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIiB9KSwgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVByb2R1Y3QgPSBhc3luYyAoYm9keU9iaikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJkdXZnZ2VyMVwiICxib2R5T2JqKVxyXG4gICAgLy8gcmV0dXJuO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGNhdGVnb3J5LCB0eXBlLCBTdWJUeXBlLCBzdWJjYXRlZ29yeSB9ID0gYm9keU9iajtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZXEuYm9keWNhbGxcIiwgYm9keU9iailcclxuICAgICAgICBpZiAoIWNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBcIk1pc3NpbmcgQ2F0ZWdvcnlcIiB9KSwgeyBzdGF0dXM6IDQwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmb3VuZENhdGVnb3J5ID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5kYi5jb2xsZWN0aW9uKCdjYXRlZ29yaWVzJykuZmluZCh7Q2F0ZWdvcmllczpjYXRlZ29yeX0pLnRvQXJyYXkoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZHV2Z2dlcjJcIilcclxuICAgICAgICBpZiAoIWZvdW5kQ2F0ZWdvcnlbMF0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6IFwiTGltaXRlZCBGb3IgQ2F0ZWdvcnkgRmFzaGlvbiAsIEVsZWN0cm9uaWNzICwgQmVhdXR5LlwiIH0pLCB7IHN0YXR1czogNDAwLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJkdXZnZ2VyM1wiLGZvdW5kQ2F0ZWdvcnlbMF0pXHJcblxyXG4gICAgICAgIGlmICghZm91bmRDYXRlZ29yeVswXS5TdWJDYXRlZ29yaWVzWzBdLlN1YlR5cGUpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9zc2libGVUeXBlcyA9IGZvdW5kQ2F0ZWdvcnlbMF0uU3ViQ2F0ZWdvcmllcy5tYXAoc3ViQ2F0ZSA9PiBzdWJDYXRlLnR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoIXBvc3NpYmxlVHlwZXMuaW5jbHVkZXModHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBgV2UgYXJlIG9ubHkgc2VsbGluZyB0aGlzIENhdGVnb3J5IFR5cGUuICR7cG9zc2libGVUeXBlcy5qb2luKFwiLCBcIil9YCB9KSwgeyBzdGF0dXM6IDQwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZHV2Z2dlcjRcIilcclxuICAgICAgICBpZiAoZm91bmRDYXRlZ29yeVswXS5TdWJDYXRlZ29yaWVzWzBdLlN1YlR5cGUpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ViQ2F0ZUdvcnlFeGlzdHMgPSBmb3VuZENhdGVnb3J5WzBdLlN1YkNhdGVnb3JpZXMubWFwKHN1YmNhdGUgPT4gc3ViY2F0ZS50eXBlKVxyXG4gICAgICAgICAgICBpZiAoIXN1YkNhdGVHb3J5RXhpc3RzLmluY2x1ZGVzKHN1YmNhdGVnb3J5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6IGBXZSBhcmUgb25seSBzZWxsaW5nIHRoaXMgc3ViY2F0ZWdvcnkgUHJvZHVjdHMuICR7c3ViQ2F0ZUdvcnlFeGlzdHMuam9pbihcIiwgXCIpfWAgfSksIHsgc3RhdHVzOiA0MDAsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZHV2Z2dlcjVcIilcclxuICAgICAgICAgICAgY29uc3QgQ2xvbmVTdWJDYXRlID0gZm91bmRDYXRlZ29yeVswXS5TdWJDYXRlZ29yaWVzLmZpbmQoc3ViQ2F0ZWdvcnkgPT4gc3ViQ2F0ZWdvcnkudHlwZSA9PT0gc3ViY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICBjb25zdCBQb3NzaWJsZVR5cGUgPSBDbG9uZVN1YkNhdGUuU3ViVHlwZS5tYXAodHlwZSA9PiB0eXBlLk5hbWUpXHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImR1dmdnZXI2XCIpXHJcbiAgICAgICAgICAgIGlmICghUG9zc2libGVUeXBlLmluY2x1ZGVzKHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogYFdlIGFyZSBvbmx5IHNlbGxpbmcgdGhpcyBUeXBlcyBQcm9kdWN0cy4gJHtQb3NzaWJsZVR5cGUuam9pbihcIiwgXCIpfWAgfSksIHsgc3RhdHVzOiA0MDAsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZHV2Z2dlcjdcIilcclxuICAgICAgICBpZiAoY2F0ZWdvcnkgPT0gJ0Zhc2hpb24nKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBNYXRjaFR5cGVPYmogPSBmZXRjaERhdGFPYmplY3RzT2ZUeXBlUmFuZ0JyYW5kKHN1YmNhdGVnb3J5LCB0eXBlLCBmb3VuZENhdGVnb3J5WzBdKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkdXZnZ2VyOFwiKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYWRkRmFzaGlvblByb2R1Y3QgPSBhd2FpdCBDcmVhdGVGYXNoaW9uUHJvZHVjdChib2R5T2JqLCBNYXRjaFR5cGVPYmopXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImR1dmdnZXI5XCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZGF0YTogYWRkRmFzaGlvblByb2R1Y3QsIG1lc3NhZ2U6IFwiRmFzaGlvbiBQcm9kdWN0IENyZWF0ZWRcIiB9KSwgeyBzdGF0dXM6IDIwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6IFwiRXJyb3Igb2NjdXJyZWQgaW4gL2FkbWluL2NyZWF0ZVByb2R1Y3RcIiwgZXJyOiBlcnIgfSksIHsgc3RhdHVzOiA1MDAsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBcIkVycm9yIG9jY3VycmVkIGluIC9hZG1pbi9jcmVhdGVQcm9kdWN0XCIsIGVycjogZXJyIH0pLCB7IHN0YXR1czogNTAwLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNvbnN0IENyZWF0ZUZhc2hpb25Qcm9kdWN0ID0gYXN5bmMgKGJvZHlEYXRhLCBtYXRjaFR5cGUpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBuYW1lLCBwcmljZSwgaW1hZ2UsIGRlc2NyaXB0aW9uLCBjYXRlZ29yeSwgc3ViY2F0ZWdvcnksIHR5cGUsIFN1YlR5cGUsIGJyYW5kIH0gPSBib2R5RGF0YTtcclxuICAgICAgICBpZiAoIW5hbWUgfHwgIXByaWNlIHx8ICFpbWFnZSB8fCAhZGVzY3JpcHRpb24gfHwgIXN1YmNhdGVnb3J5IHx8ICFjYXRlZ29yeSB8fCAhdHlwZSB8fCAhU3ViVHlwZSB8fCAhYnJhbmQpIHtcclxuICAgICAgICAgICAgY29uc3QgbWlzc2luZ0ZpZWxkcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoIW5hbWUpIG1pc3NpbmdGaWVsZHMucHVzaChcIm5hbWVcIik7XHJcbiAgICAgICAgICAgIGlmICghcHJpY2UpIG1pc3NpbmdGaWVsZHMucHVzaChcInByaWNlXCIpO1xyXG4gICAgICAgICAgICBpZiAoIWltYWdlKSBtaXNzaW5nRmllbGRzLnB1c2goXCJpbWFnZVwiKTtcclxuICAgICAgICAgICAgaWYgKCFkZXNjcmlwdGlvbikgbWlzc2luZ0ZpZWxkcy5wdXNoKFwiZGVzY3JpcHRpb25cIik7XHJcbiAgICAgICAgICAgIGlmICghc3ViY2F0ZWdvcnkpIG1pc3NpbmdGaWVsZHMucHVzaChcInN1YmNhdGVnb3J5XCIpO1xyXG4gICAgICAgICAgICBpZiAoIWNhdGVnb3J5KSBtaXNzaW5nRmllbGRzLnB1c2goXCJjYXRlZ29yeVwiKTtcclxuICAgICAgICAgICAgaWYgKCF0eXBlKSBtaXNzaW5nRmllbGRzLnB1c2goXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBpZiAoIVN1YlR5cGUpIG1pc3NpbmdGaWVsZHMucHVzaChcIlN1YlR5cGVcIik7XHJcbiAgICAgICAgICAgIGlmICghYnJhbmQpIG1pc3NpbmdGaWVsZHMucHVzaChcImJyYW5kXCIpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogYFRoZSBmb2xsb3dpbmcgZmllbGRzIGFyZSBtYW5kYXRvcnk6ICR7bWlzc2luZ0ZpZWxkcy5qb2luKFwiLCBcIil9LmAgfSksIHsgc3RhdHVzOiA0MDAsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1hdGNoVHlwZT8uQnJhbmRzLmluY2x1ZGVzKGJyYW5kKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogXCJXZSBBcmUgU3RpbGwgTGltaXRlZCBXaXRoIFNvbWUgQnJhbmRzXCIsIFBvc3NpYmxlQnJhbmRzOiBtYXRjaFR5cGU/LkJyYW5kcyB9KSwgeyBzdGF0dXM6IDQwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcmljZVJhbmdlcyA9IG1hdGNoVHlwZT8uUmFuZ2UubWFwKHJhbmdlID0+IHJhbmdlLnNwbGl0KCcgLSAnKS5tYXAoTnVtYmVyKSk7XHJcbiAgICAgICAgbGV0IHByaWNlUmFuZ2VUb1VwZGF0ZSA9IG51bGw7XHJcbiAgICAgICAgZm9yIChjb25zdCByYW5nZSBvZiBwcmljZVJhbmdlcykge1xyXG4gICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gcmFuZ2U7XHJcbiAgICAgICAgICAgIGlmIChwcmljZSA+PSBtaW4gJiYgcHJpY2UgPD0gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICBwcmljZVJhbmdlVG9VcGRhdGUgPSByYW5nZS5qb2luKCcgLSAnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcHJpY2VSYW5nZVRvVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBcIlByaWNlIGlzIG5vdCB3aXRoaW4gYW55IGFsbG93ZWQgcmFuZ2UuXCIgfSksIHsgc3RhdHVzOiA0MDAsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmaWx0ZXIgPSB7IENhdGVnb3J5OiBjYXRlZ29yeSwgdHlwZTogdHlwZSB9O1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9IHtcclxuICAgICAgICAgICAgJGluYzoge1xyXG4gICAgICAgICAgICAgICAgW2BCcmFuZHMuJHticmFuZH1gXTogMSxcclxuICAgICAgICAgICAgICAgIFtgUHJpY2VSYW5nZS4ke3ByaWNlUmFuZ2VUb1VwZGF0ZX1gXTogMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3UHJvZHVjdCA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgcHJpY2U6IHByaWNlLFxyXG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxyXG4gICAgICAgICAgICBzdWJjYXRlZ29yeTogc3ViY2F0ZWdvcnksXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIFN1YlR5cGU6IFN1YlR5cGUsXHJcbiAgICAgICAgICAgIGJyYW5kOiBicmFuZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5kYi5jb2xsZWN0aW9uKCdmYXNoaW9ucycpLmluc2VydE9uZShuZXdQcm9kdWN0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGVGYXNoaW9uXCIsc2F2ZWQpXHJcbiAgICAgICAgICAgIGlmIChzYXZlZCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5kYi5jb2xsZWN0aW9uKCdmaWx0ZXJjb3VudHMnKS5maW5kT25lQW5kVXBkYXRlKGZpbHRlciwgdXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3Rpb24uZGIuY29sbGVjdGlvbignY2F0ZWdvcmllcycpLmZpbmRPbmVBbmRVcGRhdGUoeyBDYXRlZ29yaWVzOiBcIkZhc2hpb25cIiB9LCB7ICRpbmM6IHsgY291bnQ6IDEgfSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogXCJFcnJvciBvY2N1cnJlZCB3aGlsZSBzYXZpbmcgZmFzaGlvbiBwcm9kdWN0XCIsIGVycm9yOiBlcnJvciB9KSwgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IHN0YXR1czogMjAwLCBtZXNzYWdlOiBcIkZhc2hpb24gUHJvZHVjdCBDcmVhdGVkXCIgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgcmV0dXJuIGVyciBpbnN0YW5jZW9mIFJlc3BvbnNlID8gZXJyIDogbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgc3RhdHVzOiA1MDAsIG1lc3NhZ2U6IFwiRXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgZmFzaGlvbiBwcm9kdWN0XCIsIGVycjogZXJyIH0pLCB7IHN0YXR1czogNTAwLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9KTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25uZWN0REIiLCJmZXRjaERhdGFPYmplY3RzT2ZUeXBlUmFuZ0JyYW5kIiwiZ2VuZXJhdGVSYW5kb21Qcm9kdWN0RmFzaGlvbiIsIkdFVCIsInJlcXVlc3QiLCJmb3VuZENhdGVnb3J5IiwiY29ubmVjdGlvbiIsImRiIiwiY29sbGVjdGlvbiIsImZpbmQiLCJDYXRlZ29yaWVzIiwidG9BcnJheSIsImNvbnNvbGUiLCJsb2ciLCJnZXRQcm9kdWN0IiwiY3JlYXRpb25SZXNwb25zZSIsImNyZWF0ZVByb2R1Y3QiLCJlcnIiLCJlcnJvciIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXR1cyIsImhlYWRlcnMiLCJib2R5T2JqIiwiY2F0ZWdvcnkiLCJ0eXBlIiwiU3ViVHlwZSIsInN1YmNhdGVnb3J5IiwibWVzc2FnZSIsIlN1YkNhdGVnb3JpZXMiLCJwb3NzaWJsZVR5cGVzIiwibWFwIiwic3ViQ2F0ZSIsImluY2x1ZGVzIiwiam9pbiIsInN1YkNhdGVHb3J5RXhpc3RzIiwic3ViY2F0ZSIsIkNsb25lU3ViQ2F0ZSIsInN1YkNhdGVnb3J5IiwiUG9zc2libGVUeXBlIiwiTmFtZSIsIk1hdGNoVHlwZU9iaiIsImFkZEZhc2hpb25Qcm9kdWN0IiwiQ3JlYXRlRmFzaGlvblByb2R1Y3QiLCJkYXRhIiwiYm9keURhdGEiLCJtYXRjaFR5cGUiLCJuYW1lIiwicHJpY2UiLCJpbWFnZSIsImRlc2NyaXB0aW9uIiwiYnJhbmQiLCJtaXNzaW5nRmllbGRzIiwicHVzaCIsIkJyYW5kcyIsIlBvc3NpYmxlQnJhbmRzIiwicHJpY2VSYW5nZXMiLCJSYW5nZSIsInJhbmdlIiwic3BsaXQiLCJOdW1iZXIiLCJwcmljZVJhbmdlVG9VcGRhdGUiLCJtaW4iLCJtYXgiLCJmaWx0ZXIiLCJDYXRlZ29yeSIsInVwZGF0ZSIsIiRpbmMiLCJuZXdQcm9kdWN0Iiwic2F2ZWQiLCJpbnNlcnRPbmUiLCJmaW5kT25lQW5kVXBkYXRlIiwiY291bnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/createproduct/route.js\n");

/***/ }),

/***/ "(rsc)/./src/utils/features.js":
/*!*******************************!*\
  !*** ./src/utils/features.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectDB: () => (/* binding */ connectDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connectDB = async ()=>{\n    try {\n        // Connect to MongoDB\n        const connection = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGOURI, {\n            useNewUrlParser: true,\n            useUnifiedTopology: true\n        });\n        console.log(\"Connected to MongoDB\");\n        // Log the connected collections\n        const collections = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.db.collections();\n        const collectionNames = collections.map((collection)=>collection.collectionName);\n        console.log(\"Available collections:\", collectionNames);\n        return connection;\n    } catch (error) {\n        console.error(\"Error connecting to MongoDB:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbHMvZmVhdHVyZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRXpCLE1BQU1DLFlBQVk7SUFDckIsSUFBSTtRQUNBLHFCQUFxQjtRQUNyQixNQUFNQyxhQUFhLE1BQU1GLHVEQUFnQixDQUFDSSxRQUFRQyxHQUFHLENBQUNDLFFBQVEsRUFBRTtZQUM1REMsaUJBQWlCO1lBQ2pCQyxvQkFBb0I7UUFDeEI7UUFFQUMsUUFBUUMsR0FBRyxDQUFDO1FBRVosZ0NBQWdDO1FBQ2hDLE1BQU1DLGNBQWMsTUFBTVgsMERBQW1CLENBQUNZLEVBQUUsQ0FBQ0QsV0FBVztRQUM1RCxNQUFNRSxrQkFBa0JGLFlBQVlHLEdBQUcsQ0FBQ0MsQ0FBQUEsYUFBY0EsV0FBV0MsY0FBYztRQUMvRVAsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQkc7UUFFdEMsT0FBT1g7SUFDWCxFQUFFLE9BQU9lLE9BQU87UUFDWlIsUUFBUVEsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTUE7SUFDVjtBQUNKLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lY29tYWRtaW4vLi9zcmMvdXRpbHMvZmVhdHVyZXMuanM/NzQ3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29ubmVjdERCID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREJcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT1VSSSwge1xyXG4gICAgICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBNb25nb0RCXCIpO1xyXG5cclxuICAgICAgICAvLyBMb2cgdGhlIGNvbm5lY3RlZCBjb2xsZWN0aW9uc1xyXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25zID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5kYi5jb2xsZWN0aW9ucygpO1xyXG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lcyA9IGNvbGxlY3Rpb25zLm1hcChjb2xsZWN0aW9uID0+IGNvbGxlY3Rpb24uY29sbGVjdGlvbk5hbWUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXZhaWxhYmxlIGNvbGxlY3Rpb25zOlwiLCBjb2xsZWN0aW9uTmFtZXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNvbm5lY3RpbmcgdG8gTW9uZ29EQjpcIiwgZXJyb3IpO1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25uZWN0REIiLCJjb25uZWN0aW9uIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT1VSSSIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbnNvbGUiLCJsb2ciLCJjb2xsZWN0aW9ucyIsImRiIiwiY29sbGVjdGlvbk5hbWVzIiwibWFwIiwiY29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/features.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/formdata-node","vendor-chunks/openai","vendor-chunks/form-data-encoder","vendor-chunks/node-fetch","vendor-chunks/agentkeepalive","vendor-chunks/web-streams-polyfill","vendor-chunks/pexels","vendor-chunks/ms","vendor-chunks/isomorphic-fetch","vendor-chunks/humanize-ms","vendor-chunks/event-target-shim","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcreateproduct%2Froute&page=%2Fapi%2Fcreateproduct%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcreateproduct%2Froute.js&appDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CYuvrajsinh%5COneDrive%5CDesktop%5Ccode%5CpprojectEcom%5Cecomadmin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();